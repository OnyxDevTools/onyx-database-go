func Asc func(field string) Sort
func Between func(field string, from any, to any) Condition
func Cascade func(spec string) CascadeSpec
func Contains func(field string, value any) Condition
func Desc func(field string) Sort
func Eq func(field string, value any) Condition
func Gt func(field string, value any) Condition
func Gte func(field string, value any) Condition
func In func(field string, values []any) Condition
func IsNull func(field string) Condition
func Like func(field string, pattern any) Condition
func Lt func(field string, value any) Condition
func Lte func(field string, value any) Condition
func Neq func(field string, value any) Condition
func NewCascadeBuilder func() CascadeBuilder
func NewError func(code string, message string, meta map[string]any) *Error
func NormalizeSchema func(s Schema) Schema
func NotIn func(field string, values []any) Condition
func NotNull func(field string) Condition
func NotWithin func(field string, query Query) Condition
func ParseSchemaJSON func(data []byte) (Schema, error)
func Search func(queryText string, minScore ...float64) Condition
func StartsWith func(field string, value any) Condition
func Within func(field string, query Query) Condition
type AIChatCompletionChoice struct{Index int "json:\"index\""; Message AIChatMessage "json:\"message\""; FinishReason *string "json:\"finish_reason,omitempty\""}
type AIChatCompletionChunk struct{ID string "json:\"id\""; Object string "json:\"object\""; Created int64 "json:\"created\""; Model string "json:\"model,omitempty\""; Choices []AIChatCompletionChunkChoice "json:\"choices\""}
type AIChatCompletionChunkChoice struct{Index int "json:\"index\""; Delta AIChatCompletionChunkDelta "json:\"delta\""; FinishReason *string "json:\"finish_reason,omitempty\""}
type AIChatCompletionChunkDelta struct{Role string "json:\"role,omitempty\""; Content string "json:\"content,omitempty\""; ToolCalls []AIToolCall "json:\"tool_calls,omitempty\""; ToolCallID string "json:\"tool_call_id,omitempty\""; Name string "json:\"name,omitempty\""}
type AIChatCompletionRequest struct{Model string "json:\"model\""; Messages []AIChatMessage "json:\"messages\""; Stream bool "json:\"stream,omitempty\""; Temperature *float64 "json:\"temperature,omitempty\""; TopP *float64 "json:\"top_p,omitempty\""; MaxTokens *int "json:\"max_tokens,omitempty\""; Metadata map[string]any "json:\"metadata,omitempty\""; Tools []AITool "json:\"tools,omitempty\""; ToolChoice any "json:\"tool_choice,omitempty\""; User string "json:\"user,omitempty\""; DatabaseID string "json:\"-\""}
type AIChatCompletionResponse struct{ID string "json:\"id\""; Object string "json:\"object\""; Created int64 "json:\"created\""; Model string "json:\"model\""; Choices []AIChatCompletionChoice "json:\"choices\""; Usage *AIChatCompletionUsage "json:\"usage,omitempty\""}
type AIChatCompletionUsage struct{PromptTokens *int "json:\"prompt_tokens,omitempty\""; CompletionTokens *int "json:\"completion_tokens,omitempty\""; TotalTokens *int "json:\"total_tokens,omitempty\""}
type AIChatMessage struct{Role string "json:\"role\""; Content string "json:\"content,omitempty\""; ToolCalls []AIToolCall "json:\"tool_calls,omitempty\""; ToolCallID string "json:\"tool_call_id,omitempty\""; Name string "json:\"name,omitempty\""}
type AIChatStream interface{Chunk() AIChatCompletionChunk; Close() error; Err() error; Next() bool}
type AIClient interface{Chat(ctx context.Context, req AIChatCompletionRequest) (AIChatCompletionResponse, error); ChatStream(ctx context.Context, req AIChatCompletionRequest) (AIChatStream, error); GetModel(ctx context.Context, modelID string) (AIModel, error); GetModels(ctx context.Context) (AIModelsResponse, error); RequestScriptApproval(ctx context.Context, req AIScriptApprovalRequest) (AIScriptApprovalResponse, error)}
type AIModel struct{ID string "json:\"id\""; Object string "json:\"object\""; Created int64 "json:\"created\""; OwnedBy string "json:\"owned_by\""}
type AIModelsResponse struct{Object string "json:\"object\""; Data []AIModel "json:\"data\""}
type AIScriptApprovalRequest struct{Script string "json:\"script\""; DatabaseID string "json:\"-\""}
type AIScriptApprovalResponse struct{NormalizedScript string "json:\"normalizedScript\""; ExpiresAtIso string "json:\"expiresAtIso\""; RequiresApproval bool "json:\"requiresApproval\""; Findings string "json:\"findings\""}
type AITool struct{Type string "json:\"type\""; Function AIToolFunction "json:\"function\""}
type AIToolCall struct{ID string "json:\"id,omitempty\""; Type string "json:\"type,omitempty\""; Function AIToolCallFunction "json:\"function\""}
type AIToolCallFunction struct{Name string "json:\"name\""; Arguments string "json:\"arguments\""}
type AIToolFunction struct{Name string "json:\"name\""; Description string "json:\"description,omitempty\""; Parameters map[string]any "json:\"parameters,omitempty\""}
type CascadeBuilder interface{Build() CascadeSpec; Graph(name string) CascadeBuilder; GraphType(table string) CascadeBuilder; SourceField(field string) CascadeBuilder; TargetField(field string) CascadeBuilder}
type CascadeClient interface{Delete(ctx context.Context, table string, id string) error; Save(ctx context.Context, table string, entity any) error}
type CascadeSpec interface{String() string}
type Client interface{BatchSave(ctx context.Context, table string, entities []any, batchSize int) error; Cascade(spec CascadeSpec) CascadeClient; Delete(ctx context.Context, table string, id string) error; DeleteSecret(ctx context.Context, key string) error; Documents() OnyxDocumentsClient; From(table string) Query; GetSchema(ctx context.Context, tables []string) (Schema, error); GetSchemaHistory(ctx context.Context) ([]Schema, error); GetSecret(ctx context.Context, key string) (OnyxSecret, error); ListSecrets(ctx context.Context) ([]OnyxSecret, error); PublishSchema(ctx context.Context, schema Schema) error; PutSecret(ctx context.Context, secret OnyxSecret) (OnyxSecret, error); Save(ctx context.Context, table string, entity any, relationships []string) (map[string]any, error); Schema(ctx context.Context) (Schema, error); Search(queryText string, minScore ...float64) Query; UpdateSchema(ctx context.Context, schema Schema, publish bool) error; ValidateSchema(ctx context.Context, schema Schema) error; AIClient}
type Condition interface{encoding/json.Marshaler}
type Config struct{DatabaseID string; DatabaseBaseURL string; APIKey string; APISecret string; AIBaseURL string; CacheTTL time.Duration; ConfigPath string; LogRequests bool; LogResponses bool; Partition string; HTTPClient *net/http.Client; Clock func() time.Time; Sleep func(time.Duration)}
type Document struct{ID string "json:\"id,omitempty\""; DocumentID string "json:\"documentId,omitempty\""; Path string "json:\"path,omitempty\""; MimeType string "json:\"mimeType,omitempty\""; Content string "json:\"content,omitempty\""; Data map[string]any "json:\"data,omitempty\""; Created string "json:\"created,omitempty\""; Updated string "json:\"updated,omitempty\""; CreatedAt string "json:\"createdAt,omitempty\""; UpdatedAt string "json:\"updatedAt,omitempty\""}
type DocumentClient interface{Delete(ctx context.Context, id string) error; Get(ctx context.Context, id string) (OnyxDocument, error); List(ctx context.Context) ([]OnyxDocument, error); Save(ctx context.Context, doc OnyxDocument) (OnyxDocument, error)}
type Error struct{Code string; Message string; Meta map[string]any}
type Field struct{Name string "json:\"name\""; Type string "json:\"type\""; Nullable bool "json:\"nullable,omitempty\""; Primary bool "json:\"primaryKey,omitempty\""; Unique bool "json:\"unique,omitempty\""}
type FullTextQuery struct{QueryText string "json:\"queryText\""; MinScore *float64 "json:\"minScore\""}
type Index struct{Name string "json:\"name\""}
type Iterator interface{Close() error; Err() error; Next() bool; Value() map[string]any}
type OnyxDocument struct{ID string "json:\"id,omitempty\""; DocumentID string "json:\"documentId,omitempty\""; Path string "json:\"path,omitempty\""; MimeType string "json:\"mimeType,omitempty\""; Content string "json:\"content,omitempty\""; Data map[string]any "json:\"data,omitempty\""; Created string "json:\"created,omitempty\""; Updated string "json:\"updated,omitempty\""; CreatedAt string "json:\"createdAt,omitempty\""; UpdatedAt string "json:\"updatedAt,omitempty\""}
type OnyxDocumentsClient interface{Delete(ctx context.Context, id string) error; Get(ctx context.Context, id string) (OnyxDocument, error); List(ctx context.Context) ([]OnyxDocument, error); Save(ctx context.Context, doc OnyxDocument) (OnyxDocument, error)}
type OnyxSecret struct{Key string "json:\"key\""; Value string "json:\"value\""; CreatedAt string "json:\"createdAt,omitempty\""; UpdatedAt string "json:\"updatedAt,omitempty\""}
type OnyxSecretsClient interface{Delete(ctx context.Context, key string) error; Get(ctx context.Context, key string) (OnyxSecret, error); List(ctx context.Context) ([]OnyxSecret, error); Set(ctx context.Context, secret OnyxSecret) (OnyxSecret, error)}
type PageResult struct{Items QueryResults "json:\"items\""; NextCursor string "json:\"nextCursor,omitempty\""}
type Query interface{And(condition Condition) Query; Delete(ctx context.Context) (int, error); GroupBy(fields ...string) Query; InPartition(partition string) Query; Limit(limit int) Query; List(ctx context.Context) (QueryResults, error); MarshalJSON() ([]byte, error); Or(condition Condition) Query; OrderBy(sorts ...Sort) Query; Page(ctx context.Context, cursor string) (PageResult, error); Resolve(paths ...string) Query; Search(queryText string, minScore ...float64) Query; Select(fields ...string) Query; SetUpdates(updates map[string]any) Query; Stream(ctx context.Context) (Iterator, error); Update(ctx context.Context) (int, error); Where(condition Condition) Query}
type QueryResults []map[string]any
type Resolver struct{Name string "json:\"name\""; Resolver string "json:\"resolver,omitempty\""; Meta map[string]any "json:\"meta,omitempty\""}
type Schema struct{Tables []Table "json:\"tables\""}
type Secret struct{Key string "json:\"key\""; Value string "json:\"value\""; CreatedAt string "json:\"createdAt,omitempty\""; UpdatedAt string "json:\"updatedAt,omitempty\""}
type SecretClient interface{Delete(ctx context.Context, key string) error; Get(ctx context.Context, key string) (OnyxSecret, error); List(ctx context.Context) ([]OnyxSecret, error); Set(ctx context.Context, secret OnyxSecret) (OnyxSecret, error)}
type Sort interface{encoding/json.Marshaler}
type Table struct{Name string "json:\"name\""; Fields []Field "json:\"fields\""; Resolvers []Resolver "json:\"resolvers,omitempty\""; Indexes []Index "json:\"indexes,omitempty\""; Triggers []string "json:\"triggers,omitempty\""; Partition string "json:\"partition,omitempty\""; Meta map[string]any "json:\"meta,omitempty\""}
