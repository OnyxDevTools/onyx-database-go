func Asc func(field string) Sort
func Between func(field string, from any, to any) Condition
func Cascade func(spec string) CascadeSpec
func Contains func(field string, value any) Condition
func Desc func(field string) Sort
func Eq func(field string, value any) Condition
func Gt func(field string, value any) Condition
func Gte func(field string, value any) Condition
func In func(field string, values []any) Condition
func IsNull func(field string) Condition
func Like func(field string, pattern any) Condition
func Lt func(field string, value any) Condition
func Lte func(field string, value any) Condition
func Neq func(field string, value any) Condition
func NewCascadeBuilder func() CascadeBuilder
func NewError func(code string, message string, meta map[string]any) *Error
func NormalizeSchema func(s Schema) Schema
func NotIn func(field string, values []any) Condition
func NotNull func(field string) Condition
func NotWithin func(field string, query Query) Condition
func ParseSchemaJSON func(data []byte) (Schema, error)
func StartsWith func(field string, value any) Condition
func Within func(field string, query Query) Condition
type CascadeBuilder interface{Build() CascadeSpec; Graph(name string) CascadeBuilder; GraphType(table string) CascadeBuilder; SourceField(field string) CascadeBuilder; TargetField(field string) CascadeBuilder}
type CascadeClient interface{Delete(ctx context.Context, table string, id string) error; Save(ctx context.Context, table string, entity any) error}
type CascadeSpec interface{String() string}
type Client interface{BatchSave(ctx context.Context, table string, entities []any, batchSize int) error; Cascade(spec CascadeSpec) CascadeClient; Delete(ctx context.Context, table string, id string) error; DeleteSecret(ctx context.Context, key string) error; Documents() DocumentClient; From(table string) Query; GetSchema(ctx context.Context, tables []string) (Schema, error); GetSchemaHistory(ctx context.Context) ([]Schema, error); GetSecret(ctx context.Context, key string) (Secret, error); ListSecrets(ctx context.Context) ([]Secret, error); PublishSchema(ctx context.Context, schema Schema) error; PutSecret(ctx context.Context, secret Secret) (Secret, error); Save(ctx context.Context, table string, entity any, relationships []string) (map[string]any, error); Schema(ctx context.Context) (Schema, error); UpdateSchema(ctx context.Context, schema Schema, publish bool) error; ValidateSchema(ctx context.Context, schema Schema) error}
type Condition interface{encoding/json.Marshaler}
type Config struct{DatabaseID string; DatabaseBaseURL string; APIKey string; APISecret string; CacheTTL time.Duration; ConfigPath string; LogRequests bool; LogResponses bool; HTTPClient *net/http.Client; Clock func() time.Time; Sleep func(time.Duration)}
type Document struct{ID string "json:\"id,omitempty\""; DocumentID string "json:\"documentId,omitempty\""; Path string "json:\"path,omitempty\""; MimeType string "json:\"mimeType,omitempty\""; Content string "json:\"content,omitempty\""; Data map[string]any "json:\"data,omitempty\""; Created string "json:\"created,omitempty\""; Updated string "json:\"updated,omitempty\""; CreatedAt string "json:\"createdAt,omitempty\""; UpdatedAt string "json:\"updatedAt,omitempty\""}
type DocumentClient interface{Delete(ctx context.Context, id string) error; Get(ctx context.Context, id string) (Document, error); List(ctx context.Context) ([]Document, error); Save(ctx context.Context, doc Document) (Document, error)}
type Error struct{Code string; Message string; Meta map[string]any}
type Field struct{Name string "json:\"name\""; Type string "json:\"type\""; Nullable bool "json:\"nullable,omitempty\""; Primary bool "json:\"primaryKey,omitempty\""; Unique bool "json:\"unique,omitempty\""}
type Index struct{Name string "json:\"name\""}
type Iterator interface{Close() error; Err() error; Next() bool; Value() map[string]any}
type PageResult struct{Items QueryResults "json:\"items\""; NextCursor string "json:\"nextCursor,omitempty\""}
type Query interface{And(condition Condition) Query; Delete(ctx context.Context) (int, error); GroupBy(fields ...string) Query; Limit(limit int) Query; List(ctx context.Context) (QueryResults, error); MarshalJSON() ([]byte, error); Or(condition Condition) Query; OrderBy(sorts ...Sort) Query; Page(ctx context.Context, cursor string) (PageResult, error); Resolve(paths ...string) Query; Select(fields ...string) Query; SetUpdates(updates map[string]any) Query; Stream(ctx context.Context) (Iterator, error); Update(ctx context.Context) (int, error); Where(condition Condition) Query}
type QueryResults []map[string]any
type Resolver struct{Name string "json:\"name\""; Resolver string "json:\"resolver,omitempty\""; Meta map[string]any "json:\"meta,omitempty\""}
type Schema struct{Tables []Table "json:\"tables\""}
type Secret struct{Key string "json:\"key\""; Value string "json:\"value\""; CreatedAt string "json:\"createdAt,omitempty\""; UpdatedAt string "json:\"updatedAt,omitempty\""}
type SecretClient interface{Delete(ctx context.Context, key string) error; Get(ctx context.Context, key string) (Secret, error); List(ctx context.Context) ([]Secret, error); Set(ctx context.Context, secret Secret) (Secret, error)}
type Sort interface{encoding/json.Marshaler}
type Table struct{Name string "json:\"name\""; Fields []Field "json:\"fields\""; Resolvers []Resolver "json:\"resolvers,omitempty\""; Indexes []Index "json:\"indexes,omitempty\""; Triggers []string "json:\"triggers,omitempty\""; Meta map[string]any "json:\"meta,omitempty\""}
